/* Styles pour l'optimisation d'affichage des fenêtres */

/* Animation de pulsation pour les raccourcis */
@keyframes shortcut-pulse {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(52, 152, 219, 0.7);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 0 0 10px rgba(52, 152, 219, 0.3);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(52, 152, 219, 0);
  }
}

/* État d'activation de raccourci */
.shortcut-activated {
  background: linear-gradient(135deg, #3498db, #2980b9) !important;
  color: white !important;
  border-color: #3498db !important;
}

/* Feedback instantané */
.instant-feedback {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

/* Indicateur de raccourci */
.shortcut-indicator {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  box-shadow: 0 8px 32px rgba(52, 152, 219, 0.4);
}

/* Résultat de raccourci */
.shortcut-result {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}

/* Feedback d'erreur */
.error-feedback {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  box-shadow: 0 4px 16px rgba(231, 76, 60, 0.3);
}

/* Optimisations pour les éléments du dock */
.dock-item {
  will-change: transform, opacity, box-shadow;
  backface-visibility: hidden;
  transform: translateZ(0);
}

.dock-item.active {
  transform: translateZ(0) scale(1.05);
}

.dock-item.activating {
  animation: shortcut-pulse 0.3s ease-out;
}

/* Optimisations pour les éléments de configuration */
.window-item {
  will-change: border-color, box-shadow;
  backface-visibility: hidden;
  transform: translateZ(0);
}

.window-item.active {
  border-color: #3498db !important;
  box-shadow: 0 0 20px rgba(52, 152, 219, 0.3) !important;
  transform: translateZ(0);
}

/* Optimisations générales pour les performances */
* {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Optimisations pour les transitions */
.dock-item,
.window-item,
.btn,
.shortcut-display,
.class-display {
  transition-property: transform, opacity, background-color, border-color, box-shadow;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Optimisations pour les animations */
@media (prefers-reduced-motion: no-preference) {
  .instant-feedback,
  .shortcut-indicator,
  .shortcut-result,
  .error-feedback {
    animation-fill-mode: both;
    animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
}

/* Désactiver les animations si l'utilisateur préfère */
@media (prefers-reduced-motion: reduce) {
  .instant-feedback,
  .shortcut-indicator,
  .shortcut-result,
  .error-feedback,
  .dock-item,
  .window-item {
    animation: none !important;
    transition: none !important;
  }
}

/* Optimisations pour les écrans haute densité */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .instant-feedback,
  .shortcut-indicator,
  .shortcut-result,
  .error-feedback {
    border-width: 0.5px;
  }
}

/* Optimisations pour les performances GPU */
.dock-container,
.window-item,
.instant-feedback,
.shortcut-indicator {
  transform: translateZ(0);
  will-change: transform;
}

/* Styles pour le mode sombre */
@media (prefers-color-scheme: dark) {
  .instant-feedback {
    background: linear-gradient(135deg, #2ecc71, #27ae60);
    border-color: rgba(255, 255, 255, 0.2);
  }
  
  .shortcut-indicator {
    background: rgba(52, 152, 219, 0.95);
    border-color: rgba(255, 255, 255, 0.3);
  }
}

/* Optimisations pour les petits écrans */
@media (max-width: 768px) {
  .instant-feedback,
  .shortcut-indicator,
  .shortcut-result {
    font-size: 12px;
    padding: 6px 12px;
  }
  
  .shortcut-indicator {
    padding: 8px 16px;
  }
}

/* Optimisations pour les très petits écrans */
@media (max-width: 480px) {
  .instant-feedback,
  .shortcut-result {
    top: 10px;
    right: 10px;
    font-size: 11px;
    padding: 4px 8px;
  }
  
  .shortcut-indicator {
    font-size: 12px;
    padding: 6px 12px;
  }
}