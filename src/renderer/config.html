<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dofus Organizer - Configuration</title>
    <link rel="stylesheet" href="config.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 id="title">Dofus Organizer - Configuration</h1>
            <div class="header-controls">
                <button id="refresh-btn" class="btn btn-primary" title="Refresh windows">
                    <img src="../../assets/icons/refresh.png" alt="Refresh" onerror="this.style.display='none'">
                    <span>Refresh</span>
                </button>
                <button id="language-btn" class="btn btn-secondary" title="Change language">
                    <img src="../../assets/icons/language.png" alt="Language" onerror="this.style.display='none'">
                    <span>Language</span>
                </button>
                <button id="organize-btn" class="btn btn-secondary" title="Organize windows">
                    <img src="../../assets/icons/organize.png" alt="Organize" onerror="this.style.display='none'">
                    <span>Organize</span>
                </button>
                <button id="close-btn" class="btn btn-close" title="Close configuration">Ã—</button>
            </div>
        </header>

        <main class="main-content">
            <div id="no-windows" class="no-windows" style="display: none;">
                <div class="no-windows-icon">ðŸŽ®</div>
                <h3>No Dofus Windows Detected</h3>
                <p id="no-windows-text">No Dofus windows detected. Make sure Dofus is running and click Refresh to scan for windows.</p>
                <button class="btn btn-primary" onclick="configRenderer.refreshWindows()">
                    <span>ðŸ”„ Refresh Now</span>
                </button>
            </div>

            <div id="windows-list" class="windows-list">
                <!-- Windows will be populated here -->
            </div>
        </main>

        <footer class="footer">
            <div class="footer-content">
                <div class="dock-settings">
                    <label class="dock-toggle">
                        <input type="checkbox" id="dock-enabled"> 
                        <span class="toggle-slider"></span>
                        <span id="dock-label">Enable navigation dock</span>
                    </label>
                    
                    <div class="dock-position-group">
                        <label for="dock-position">Position:</label>
                        <select id="dock-position" class="dock-position-select">
                            <option value="NW">Top Left</option>
                            <option value="NE">Top Right</option>
                            <option value="SW">Bottom Left</option>
                            <option value="SE" selected>Bottom Right</option>
                            <option value="N">Top (Horizontal)</option>
                            <option value="S">Bottom (Horizontal)</option>
                        </select>
                    </div>
                </div>
                
                <div class="footer-stats">
                    <span id="window-count">0 windows detected</span>
                </div>
            </div>
        </footer>
    </div>

    <!-- Shortcut capture modal -->
    <div id="shortcut-modal" class="modal" style="display: none;" tabindex="-1">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="shortcut-title">Set Keyboard Shortcut</h3>
                <button class="modal-close" onclick="configRenderer.closeShortcutModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <p id="shortcut-instruction">Press any key or key combination:</p>
                <div id="shortcut-display" class="shortcut-display-modal">Press any key or combination...</div>
                <div class="shortcut-examples">
                    <p><strong>Examples:</strong></p>
                    <p>
                        <code>A</code> <code>F1</code> <code>Space</code> <code>Ctrl+1</code> 
                        <code>Alt+F1</code> <code>Shift+Q</code> <code>Ctrl+Alt+S</code>
                        <code>;</code> <code>=</code> <code>,</code> <code>.</code> <code>/</code>
                    </p>
                </div>
            </div>
            <div class="modal-footer">
                <button id="shortcut-save" class="btn btn-primary">Save Shortcut</button>
                <button id="shortcut-cancel" class="btn btn-secondary">Cancel</button>
                <button id="shortcut-remove" class="btn btn-danger">Remove Shortcut</button>
            </div>
        </div>
    </div>

    <!-- Language selection modal -->
    <div id="language-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Select Language</h3>
                <button class="modal-close" onclick="document.getElementById('language-modal').style.display='none'">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="language-options">
                    <label class="language-option">
                        <input type="radio" name="language" value="FR" checked>
                        <div class="option-content">
                            <div class="option-flag">ðŸ‡«ðŸ‡·</div>
                            <span>FranÃ§ais</span>
                        </div>
                    </label>
                    
                    <label class="language-option">
                        <input type="radio" name="language" value="EN">
                        <div class="option-content">
                            <div class="option-flag">ðŸ‡¬ðŸ‡§</div>
                            <span>English</span>
                        </div>
                    </label>
                    
                    <label class="language-option">
                        <input type="radio" name="language" value="DE">
                        <div class="option-content">
                            <div class="option-flag">ðŸ‡©ðŸ‡ª</div>
                            <span>Deutsch</span>
                        </div>
                    </label>
                    
                    <label class="language-option">
                        <input type="radio" name="language" value="ES">
                        <div class="option-content">
                            <div class="option-flag">ðŸ‡ªðŸ‡¸</div>
                            <span>EspaÃ±ol</span>
                        </div>
                    </label>
                    
                    <label class="language-option">
                        <input type="radio" name="language" value="IT">
                        <div class="option-content">
                            <div class="option-flag">ðŸ‡®ðŸ‡¹</div>
                            <span>Italiano</span>
                        </div>
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button id="language-save" class="btn btn-primary">Apply Language</button>
                <button id="language-cancel" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Window organization modal -->
    <div id="organize-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Organize Windows</h3>
                <button class="modal-close" onclick="document.getElementById('organize-modal').style.display='none'">Ã—</button>
            </div>
            <div class="modal-body">
                <p>Choose how to arrange your Dofus windows:</p>
                <div class="organize-options">
                    <button class="organize-option" onclick="configRenderer.organizeWindows('grid')">
                        <div class="organize-icon">âŠž</div>
                        <h4>Grid Layout</h4>
                        <p>Arrange in a grid pattern</p>
                    </button>
                    
                    <button class="organize-option" onclick="configRenderer.organizeWindows('horizontal')">
                        <div class="organize-icon">âŠŸ</div>
                        <h4>Horizontal</h4>
                        <p>Side by side arrangement</p>
                    </button>
                    
                    <button class="organize-option" onclick="configRenderer.organizeWindows('vertical')">
                        <div class="organize-icon">âŠ¢</div>
                        <h4>Vertical</h4>
                        <p>Stack windows vertically</p>
                    </button>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="document.getElementById('organize-modal').style.display='none'">Close</button>
            </div>
        </div>
    </div>

    <!-- Class selection modal -->
    <div id="class-modal" class="modal" style="display: none;">
        <div class="modal-content class-modal-content">
            <div class="modal-header">
                <h3>Select Character Class</h3>
                <button class="modal-close" onclick="configRenderer.closeClassModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <p>Choose the character class for this window:</p>
                <div id="class-grid" class="class-grid">
                    <!-- Class options will be populated here -->
                </div>
            </div>
            <div class="modal-footer">
                <button id="class-cancel" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <script src="config.js"></script>
</body>
</html>